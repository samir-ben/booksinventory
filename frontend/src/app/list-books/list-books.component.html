<form class="container search-bar">
      <label>Recherche</label>
      <input type="text" placeholder="Titre du livre, nom de l'auteur, catégorie..." [formControl]="searchTerm">
</form>

<div class="container">
  <h1 class="center">Liste des livres en stock</h1>
  <table class="highlight">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Auteur</th>
        <th>Prix achat HT unitaire</th>
        <th>Prix vente HT unitaire</th>
        <th>Prix vente TTC unitaire</th>
        <th>Coût total stock</th>
        <th>Réduction (%)</th>
        <th>Prix avec réduction</th>
        <th>Quantité</th>
        <th>Catégorie</th>
        <th>Etat</th>
        <th>Actions</th>
  
  
      </tr>
    </thead>
    <tbody *ngFor="let book of books">
      <tr class="table-link" *ngIf="result.length === 0">
        <td routerLink="/book/{{book._id}}">{{book.title}}</td>
        <td routerLink="/book/{{book._id}}">{{book.author}}</td>
        <td routerLink="/book/{{book._id}}">{{book.unitPurchaseHtPrice | number}}</td>
        <td routerLink="/book/{{book._id}}">{{book.unitRetailHtPrice | number}}</td>
        <td routerLink="/book/{{book._id}}">{{getRetailPriceWithTaxes(book.unitRetailHtPrice)| number}}</td>
        <td routerLink="/book/{{book._id}}">{{getStorageCost(book.unitPurchaseHtPrice, book.quantity)| number}}</td>
        <td routerLink="/book/{{book._id}}">{{book.discount}}</td>
        <td routerLink="/book/{{book._id}}">{{getPriceWithDiscount(getRetailPriceWithTaxes(book.unitRetailHtPrice), book.discount)| number}}</td>
        <td routerLink="/book/{{book._id}}">{{book.quantity}}</td>
        <td routerLink="/book/{{book._id}}">{{book.category}}</td>
        <td routerLink="/book/{{book._id}}">{{book.condition}}</td>
        <td>
          <a class="waves-effect" routerLink="/book/{{book._id}}"><i class="tiny material-icons">search</i></a>
          <a class="waves-effect" (click)="editBook(book._id)"><i class="tiny material-icons">edit</i></a>
          <a class="waves-effect" (click)="deleteBook(book._id)"><i class="tiny material-icons">delete</i></a>
        </td>
      </tr>

    </tbody>
  
    
        <tbody *ngFor="let res of result">
            <tr class="table-link" *ngIf="result.length !== undefined">
                <td routerLink="/book/{{res._id}}">{{res.title}}</td>
                <td routerLink="/book/{{res._id}}">{{res.author}}</td>
                <td routerLink="/book/{{res._id}}">{{res.unitPurchaseHtPrice | number}}</td>
                <td routerLink="/book/{{res._id}}">{{res.unitRetailHtPrice | number}}</td>
                <td routerLink="/book/{{res._id}}">{{getRetailPriceWithTaxes(res.unitRetailHtPrice)| number}}</td>
                <td routerLink="/book/{{res._id}}">{{getStorageCost(res.unitPurchaseHtPrice, res.quantity)| number}}</td>
                <td routerLink="/book/{{res._id}}">{{res.discount}}</td>
                <td routerLink="/book/{{res._id}}">{{getPriceWithDiscount(getRetailPriceWithTaxes(res.unitRetailHtPrice), res.discount)| number}}</td>
                <td routerLink="/book/{{res._id}}">{{res.quantity}}</td>
                <td routerLink="/book/{{res._id}}">{{res.category}}</td>
                <td routerLink="/book/{{res._id}}">{{res.condition}}</td>
                <td>
                  <a class="waves-effect" routerLink="/book/{{res._id}}"><i class="tiny material-icons">search</i></a>
                  <a class="waves-effect" (click)="editBook(res._id)"><i class="tiny material-icons">edit</i></a>
                  <a class="waves-effect" (click)="deleteBook(res._id)"><i class="tiny material-icons">delete</i></a>
                </td>
           </tr>
        </tbody>
     
  </table>
</div>


